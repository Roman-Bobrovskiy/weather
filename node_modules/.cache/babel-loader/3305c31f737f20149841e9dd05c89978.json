{"ast":null,"code":"import _objectSpread from\"/home/rb/React/weather/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useEffect}from\"react\";import{connect}from\"react-redux\";import actionsTypes from\"../../redux/weather/weatherActions\";import requests from\"../../utils/request\";import url from\"../../utils/path.json\";import{v4 as uuidv4}from\"uuid\";import{getTempInCelsius}from\"../../utils/getTempInCelsius\";import wind from\"../../utils/getWindDirection\";import timeCounter from\"../../utils/getTime\";import Arrow from\"../Arrow/Arrow\";import TempBox from\"../../components/TempBox/TempBox\";import scroll from\"../../utils/hScroll\";import styles from\"./HourlyWeather.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function CityPageHorly(_ref){var id=_ref.id,cityData=_ref.cityData,card=_ref.card,pageWeather=_ref.pageWeather,err=_ref.err,loading=_ref.loading;//get data object for city page\nuseEffect(function(){card.map(function(obj){return id===obj.id&&cityData.length===0&&requests.getCityPageData(obj.coord.lon,obj.coord.lat).then(loading(true)).then(function(elem){return pageWeather(_objectSpread(_objectSpread({},elem.data),{},{name:obj.name,id:id}));}).catch(function(error){return err(error.message);}).finally(function(){return loading(false);});});},[pageWeather,id,card,cityData.length,err,loading]);//clean state\nuseEffect(function(){pageWeather([]);},[pageWeather]);return/*#__PURE__*/ (//body hourly weather box\n_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:styles.wrapHourlyWeather,children:/*#__PURE__*/_jsx(\"div\",{onWheel:function onWheel(e){return scroll.hScroll(e);},id:\"scroll_container\",className:styles.wrapCards,children:cityData.length!==0&&cityData.hourly.map(function(elem){return/*#__PURE__*/_jsxs(\"ul\",{className:styles.hourlyWeatherCard,children:[/*#__PURE__*/_jsx(\"li\",{className:styles.cardList,children:timeCounter.timeWeekDay(elem.dt)}),/*#__PURE__*/_jsx(\"li\",{className:styles.cardList,children:/*#__PURE__*/_jsx(\"img\",{src:url.imgUrl+elem.weather[0].icon+\".png\",alt:elem.weather[0].main})}),/*#__PURE__*/_jsx(\"li\",{className:styles.boxTempCardItem,children:/*#__PURE__*/_jsx(TempBox,{temp:getTempInCelsius(elem.temp)})}),/*#__PURE__*/_jsxs(\"li\",{className:styles.cardList,children:[\"Feels like \",getTempInCelsius(elem.feels_like),\" \\xB0C\"]}),/*#__PURE__*/_jsxs(\"li\",{className:styles.cardList,children:[/*#__PURE__*/_jsx(Arrow,{deg:elem.wind_deg}),wind.speed(elem.wind_speed),\" m/s\"]}),/*#__PURE__*/_jsxs(\"li\",{className:styles.cardList,children:[\"gusts to \",wind.speed(elem.wind_gust),\" m/s\"]})]},uuidv4());})})})}));}var mapStateToProps=function mapStateToProps(state){return state.weather;};var mapDispatchToProps={pageWeather:actionsTypes.cityPageWeather,handleSubmit:actionsTypes.getCityData,err:actionsTypes.error,loading:actionsTypes.loading};export default connect(mapStateToProps,mapDispatchToProps)(CityPageHorly);","map":{"version":3,"sources":["/home/rb/React/weather/src/components/HourlyWeather/HourlyWeather.js"],"names":["React","useEffect","connect","actionsTypes","requests","url","v4","uuidv4","getTempInCelsius","wind","timeCounter","Arrow","TempBox","scroll","styles","CityPageHorly","id","cityData","card","pageWeather","err","loading","map","obj","length","getCityPageData","coord","lon","lat","then","elem","data","name","catch","error","message","finally","wrapHourlyWeather","e","hScroll","wrapCards","hourly","hourlyWeatherCard","cardList","timeWeekDay","dt","imgUrl","weather","icon","main","boxTempCardItem","temp","feels_like","wind_deg","speed","wind_speed","wind_gust","mapStateToProps","state","mapDispatchToProps","cityPageWeather","handleSubmit","getCityData"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport actionsTypes from \"../../redux/weather/weatherActions\";\n\nimport requests from \"../../utils/request\";\nimport url from \"../../utils/path.json\";\n\nimport { v4 as uuidv4 } from \"uuid\";\nimport { getTempInCelsius } from \"../../utils/getTempInCelsius\";\nimport wind from \"../../utils/getWindDirection\";\nimport timeCounter from \"../../utils/getTime\";\nimport Arrow from \"../Arrow/Arrow\";\nimport TempBox from \"../../components/TempBox/TempBox\";\nimport scroll from \"../../utils/hScroll\";\n\nimport styles from \"./HourlyWeather.module.css\";\n\nfunction CityPageHorly({ id, cityData, card, pageWeather, err, loading }) {\n  //get data object for city page\n  useEffect(() => {\n    card.map(\n      (obj) =>\n        id === obj.id &&\n        cityData.length === 0 &&\n        requests\n          .getCityPageData(obj.coord.lon, obj.coord.lat)\n          .then(loading(true))\n          .then((elem) => pageWeather({ ...elem.data, name: obj.name, id: id }))\n          .catch((error) => err(error.message))\n          .finally(() => loading(false))\n    );\n  }, [pageWeather, id, card, cityData.length, err, loading]);\n\n  //clean state\n  useEffect(() => {\n    pageWeather([]);\n  }, [pageWeather]);\n\n  return (\n    //body hourly weather box\n    <>\n      <div className={styles.wrapHourlyWeather}>\n        <div\n          onWheel={(e) => scroll.hScroll(e)}\n          id=\"scroll_container\"\n          className={styles.wrapCards}\n        >\n          {cityData.length !== 0 &&\n            cityData.hourly.map((elem) => (\n              <ul key={uuidv4()} className={styles.hourlyWeatherCard}>\n                <li className={styles.cardList}>\n                  {timeCounter.timeWeekDay(elem.dt)}\n                </li>\n                <li className={styles.cardList}>\n                  <img\n                    src={url.imgUrl + elem.weather[0].icon + \".png\"}\n                    alt={elem.weather[0].main}\n                  ></img>\n                </li>\n                <li className={styles.boxTempCardItem}>\n                  <TempBox temp={getTempInCelsius(elem.temp)} />\n                </li>\n                <li className={styles.cardList}>\n                  Feels like {getTempInCelsius(elem.feels_like)} Â°C\n                </li>\n                <li className={styles.cardList}>\n                  <Arrow deg={elem.wind_deg} />\n                  {wind.speed(elem.wind_speed)} m/s\n                </li>\n                <li className={styles.cardList}>\n                  gusts to {wind.speed(elem.wind_gust)} m/s\n                </li>\n              </ul>\n            ))}\n        </div>\n      </div>\n    </>\n  );\n}\n\nlet mapStateToProps = (state) => {\n  return state.weather;\n};\n\nlet mapDispatchToProps = {\n  pageWeather: actionsTypes.cityPageWeather,\n  handleSubmit: actionsTypes.getCityData,\n  err: actionsTypes.error,\n  loading: actionsTypes.loading,\n};\n\nCityPageHorly.propTypes = {\n  id: PropTypes.number,\n  card: PropTypes.array,\n  pageWeather: PropTypes.func.isRequired,\n  err: PropTypes.func.isRequired,\n  loading: PropTypes.func.isRequired,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CityPageHorly);\n"]},"metadata":{},"sourceType":"module"}