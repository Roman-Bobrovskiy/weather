{"ast":null,"code":"import _toConsumableArray from\"/home/rb/React/weather/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import actionsTypes from\"./weatherActionsTypes\";import{combineReducers}from\"redux\";import localStorage from\"../../utils/localStorage\";var initialState={card:[],cityData:[],error:false,loading:false};var cityWeatherData=function cityWeatherData(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState.card;var _ref=arguments.length>1?arguments[1]:undefined,type=_ref.type,payload=_ref.payload;switch(type){case actionsTypes.ADD_CITY:localStorage.add(payload.name);return[].concat(_toConsumableArray(state.filter(function(obj){return obj.name!==payload.name;})),[payload]);case actionsTypes.REMOVE_CITY:return _toConsumableArray(state.filter(function(stat){return stat.name!==payload;}));case actionsTypes.UPD_WEATHER:var result=state.map(function(obj){return obj.name===payload.name?payload:obj;});return result;default:return state;}};var cityPageData=function cityPageData(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState.cityData;var _ref2=arguments.length>1?arguments[1]:undefined,type=_ref2.type,payload=_ref2.payload;switch(type){case actionsTypes.CITY_PAGE_WEATHER:return payload;default:return state;}};var error=function error(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState.error;var _ref3=arguments.length>1?arguments[1]:undefined,type=_ref3.type,payload=_ref3.payload;switch(type){case actionsTypes.ERROR:return payload;default:return state;}};var loading=function loading(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState.loading;var _ref4=arguments.length>1?arguments[1]:undefined,type=_ref4.type,payload=_ref4.payload;switch(type){case actionsTypes.LOADING:return payload;default:return state;}};export default combineReducers({card:cityWeatherData,cityData:cityPageData,error:error,loading:loading});","map":{"version":3,"sources":["/home/rb/React/weather/src/redux/weather/weatherReducer.js"],"names":["actionsTypes","combineReducers","localStorage","initialState","card","cityData","error","loading","cityWeatherData","state","type","payload","ADD_CITY","add","name","filter","obj","REMOVE_CITY","stat","UPD_WEATHER","result","map","cityPageData","CITY_PAGE_WEATHER","ERROR","LOADING"],"mappings":"qJAAA,MAAOA,CAAAA,YAAP,KAAyB,uBAAzB,CACA,OAASC,eAAT,KAAgC,OAAhC,CACA,MAAOC,CAAAA,YAAP,KAAyB,0BAAzB,CAEA,GAAMC,CAAAA,YAAY,CAAG,CACnBC,IAAI,CAAE,EADa,CAEnBC,QAAQ,CAAE,EAFS,CAGnBC,KAAK,CAAE,KAHY,CAInBC,OAAO,CAAE,KAJU,CAArB,CAOA,GAAIC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAkD,IAAjDC,CAAAA,KAAiD,2DAAzCN,YAAY,CAACC,IAA4B,oDAApBM,IAAoB,MAApBA,IAAoB,CAAdC,OAAc,MAAdA,OAAc,CACtE,OAAQD,IAAR,EACE,IAAKV,CAAAA,YAAY,CAACY,QAAlB,CACEV,YAAY,CAACW,GAAb,CAAiBF,OAAO,CAACG,IAAzB,EAEA,mCAAWL,KAAK,CAACM,MAAN,CAAa,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACF,IAAJ,GAAaH,OAAO,CAACG,IAA9B,EAAb,CAAX,GAA6DH,OAA7D,GAEF,IAAKX,CAAAA,YAAY,CAACiB,WAAlB,CACE,0BAAWR,KAAK,CAACM,MAAN,CAAa,SAACG,IAAD,QAAUA,CAAAA,IAAI,CAACJ,IAAL,GAAcH,OAAxB,EAAb,CAAX,EAEF,IAAKX,CAAAA,YAAY,CAACmB,WAAlB,CACE,GAAIC,CAAAA,MAAM,CAAGX,KAAK,CAACY,GAAN,CAAU,SAACL,GAAD,CAAS,CAC9B,MAAOA,CAAAA,GAAG,CAACF,IAAJ,GAAaH,OAAO,CAACG,IAArB,CAA4BH,OAA5B,CAAsCK,GAA7C,CACD,CAFY,CAAb,CAIA,MAAOI,CAAAA,MAAP,CAEF,QACE,MAAOX,CAAAA,KAAP,CAjBJ,CAmBD,CApBD,CAsBA,GAAIa,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAsD,IAArDb,CAAAA,KAAqD,2DAA7CN,YAAY,CAACE,QAAgC,qDAApBK,IAAoB,OAApBA,IAAoB,CAAdC,OAAc,OAAdA,OAAc,CACvE,OAAQD,IAAR,EACE,IAAKV,CAAAA,YAAY,CAACuB,iBAAlB,CACE,MAAOZ,CAAAA,OAAP,CAEF,QACE,MAAOF,CAAAA,KAAP,CALJ,CAOD,CARD,CAUA,GAAIH,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAmD,IAAlDG,CAAAA,KAAkD,2DAA1CN,YAAY,CAACG,KAA6B,qDAApBI,IAAoB,OAApBA,IAAoB,CAAdC,OAAc,OAAdA,OAAc,CAC7D,OAAQD,IAAR,EACE,IAAKV,CAAAA,YAAY,CAACwB,KAAlB,CACE,MAAOb,CAAAA,OAAP,CACF,QACE,MAAOF,CAAAA,KAAP,CAJJ,CAMD,CAPD,CASA,GAAIF,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAqD,IAApDE,CAAAA,KAAoD,2DAA5CN,YAAY,CAACI,OAA+B,qDAApBG,IAAoB,OAApBA,IAAoB,CAAdC,OAAc,OAAdA,OAAc,CACjE,OAAQD,IAAR,EACE,IAAKV,CAAAA,YAAY,CAACyB,OAAlB,CACE,MAAOd,CAAAA,OAAP,CACF,QACE,MAAOF,CAAAA,KAAP,CAJJ,CAMD,CAPD,CASA,cAAeR,CAAAA,eAAe,CAAC,CAC7BG,IAAI,CAAEI,eADuB,CAE7BH,QAAQ,CAAEiB,YAFmB,CAG7BhB,KAAK,CAAEA,KAHsB,CAI7BC,OAAO,CAAEA,OAJoB,CAAD,CAA9B","sourcesContent":["import actionsTypes from \"./weatherActionsTypes\";\nimport { combineReducers } from \"redux\";\nimport localStorage from \"../../utils/localStorage\";\n\nconst initialState = {\n  card: [],\n  cityData: [],\n  error: false,\n  loading: false,\n};\n\nlet cityWeatherData = (state = initialState.card, { type, payload }) => {\n  switch (type) {\n    case actionsTypes.ADD_CITY:\n      localStorage.add(payload.name);\n\n      return [...state.filter((obj) => obj.name !== payload.name), payload];\n\n    case actionsTypes.REMOVE_CITY:\n      return [...state.filter((stat) => stat.name !== payload)];\n\n    case actionsTypes.UPD_WEATHER:\n      let result = state.map((obj) => {\n        return obj.name === payload.name ? payload : obj;\n      });\n\n      return result;\n\n    default:\n      return state;\n  }\n};\n\nlet cityPageData = (state = initialState.cityData, { type, payload }) => {\n  switch (type) {\n    case actionsTypes.CITY_PAGE_WEATHER:\n      return payload;\n\n    default:\n      return state;\n  }\n};\n\nlet error = (state = initialState.error, { type, payload }) => {\n  switch (type) {\n    case actionsTypes.ERROR:\n      return payload;\n    default:\n      return state;\n  }\n};\n\nlet loading = (state = initialState.loading, { type, payload }) => {\n  switch (type) {\n    case actionsTypes.LOADING:\n      return payload;\n    default:\n      return state;\n  }\n};\n\nexport default combineReducers({\n  card: cityWeatherData,\n  cityData: cityPageData,\n  error: error,\n  loading: loading,\n});\n"]},"metadata":{},"sourceType":"module"}